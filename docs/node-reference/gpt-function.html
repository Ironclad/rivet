<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-node-reference/gpt-function" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">GPT Function Node | Rivet</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rivet.ironcladapp.com/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://rivet.ironcladapp.com/img/social-card.png"><meta data-rh="true" property="og:url" content="https://rivet.ironcladapp.com/docs/node-reference/gpt-function"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GPT Function Node | Rivet"><meta data-rh="true" name="description" content="GPT Function Node Screenshot"><meta data-rh="true" property="og:description" content="GPT Function Node Screenshot"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://rivet.ironcladapp.com/docs/node-reference/gpt-function"><link data-rh="true" rel="alternate" href="https://rivet.ironcladapp.com/docs/node-reference/gpt-function" hreflang="en"><link data-rh="true" rel="alternate" href="https://rivet.ironcladapp.com/docs/node-reference/gpt-function" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a147af10.css">
<link rel="preload" href="/assets/js/runtime~main.e6606ab6.js" as="script">
<link rel="preload" href="/assets/js/main.2c0dd3bf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_QXLn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Rivet Logo" class="themedImage_xd2l themedImage--light_r6yD"><img src="/img/logo.svg" alt="Rivet Logo" class="themedImage_xd2l themedImage--dark_Wxbp"></div><b class="navbar__title text--truncate">Rivet</b></a><a class="navbar__item navbar__link" href="/docs">User Guide</a><a class="navbar__item navbar__link" href="/docs/tutorial">Tutorial</a><a class="navbar__item navbar__link" href="/docs/api-reference">API Reference</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/node-reference">Node Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ironclad/rivet" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_YGOo"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_IDoG colorModeToggle_WRUd"><button class="clean-btn toggleButton_ettb toggleButtonDisabled_Ktf1" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_NRy2"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Fn3x"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_Tbn_"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_B4Ie docsWrapper_vPSh"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_HAST" type="button"></button><div class="docPage_iY0a"><aside class="theme-doc-sidebar-container docSidebarContainer_r5_D"><div class="sidebarViewport_DJt3"><div class="sidebar_gyMu"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_TBPW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/node-reference">Rivet Node Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/node-reference/all-nodes">All Nodes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/chunk">Text</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/chunk">Chunk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/extract-markdown-code-blocks">Extract Markdown Code Blocks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/extract-with-regex">Extract with Regex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/join">Join</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/prompt">Prompt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/split-text">Split Text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/text">Text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/to-yaml">To YAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/to-json">To JSON</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/node-reference/assemble-message">AI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/assemble-message">Assemble Message</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/assemble-prompt">Assemble Prompt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/chat">Chat</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/node-reference/gpt-function">GPT Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/get-embedding">Get Embedding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/trim-chat-messages">Trim Chat Messages</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/array">Lists</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/array">Array</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/filter">Filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/pop">Pop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/shuffle">Shuffle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/slice">Slice</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/evaluate">Numbers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/evaluate">Evaluate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/number">Number</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/RNG">RNG</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/destructure">Objects</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/destructure">Destructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/extract-json">Extract JSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/extract-object-path">Extract Object Path</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/extract-yaml">Extract YAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/object">Object</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/audio">Data</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/audio">Audio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/bool">Bool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/hash">Hash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/image">Image</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/url-reference">URL Reference</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/abort-graph">Logic</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/abort-graph">Abort Graph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/coalesce">Coalesce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/compare">Compare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/delay">Delay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/if">If</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/if-else">If/Else</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/loop-controller">Loop Controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/match">Match</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/passthrough">Passthrough</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/race-inputs">Race Inputs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/append-to-dataset">Input/Output</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/append-to-dataset">Append to Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/create-dataset">Create Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/get-all-datasets">Get All Datasets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/get-dataset-row">Get Dataset Row</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/graph-input">Graph Input</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/graph-output">Graph Output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/knn-dataset">KNN Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/load-dataset">Load Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/read-directory">Read Directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/read-file">Read File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/replace-dataset">Replace Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/user-input">User Input</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/vector-store">Vector Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/vector-knn">Vector KNN</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/node-reference/code">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/code">Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/comment">Comment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/context">Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/external-call">External Call</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/get-global">Get Global</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/http-call">HTTP Call</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/raise-event">Raise Event</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/set-global">Set Global</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/subgraph">Subgraph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-reference/wait-for-event">Wait For Event</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TAmz"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_T029"><div class="docItemContainer_tiI6"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nPXr" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Jfba"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AI</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">GPT Function</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ujn6 theme-doc-toc-mobile tocMobile_znf_"><button type="button" class="clean-btn tocCollapsibleButton_OvvE">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GPT Function Node</h1></header><p><img loading="lazy" alt="GPT Function Node Screenshot" src="/assets/images/gpt-function-node-025def5dccfb7e008cf48f20ce2345eb.png" width="339" height="171" class="img_M8z1"></p><h2 class="anchor anchorWithStickyNavbar_FGaV" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>The GPT Function Node allows you to define a function that can be called by OpenAI&#x27;s GPT in its responses. This is part of GPT&#x27;s &quot;function-calling&quot; capability. The function is defined using JSON Schema.</p><p>The output of the GPT Function Node can be passed into the &quot;Function&quot; port of the <a href="/docs/node-reference/chat">Chat Node</a>. To enable this, you must check the &quot;Enable Function Calling&quot; setting in the Chat Node.</p><p>If you want to pass multiple functions into a Chat Node, all of the functions should be passed into an <a href="/docs/node-reference/array">Array Node</a>, and the Array Node goes into the &quot;Function&quot; port of the Chat Node.</p><p>A function is defined using JSON Schema, which is a vocabulary that allows you to annotate and validate JSON documents. For more information on JSON Schema, see the <a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">official website</a>.</p><p>You may use interpolation values in the GPT Function schema the same way you can use them in the Text and Prompt nodes. Wrap your interpolation values in double curly braces, e.g. <code>{{value}}</code>.</p><div class="tabs-container tabList_Dwv5"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_KiUr tabs__item--active">Inputs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_KiUr">Outputs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_KiUr">Editor Settings</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_o9Hs"><table><thead><tr><th>Title</th><th>Data Type</th><th>Description</th><th>Default Value</th><th>Notes</th></tr></thead><tbody><tr><td>Input N</td><td><code>string</code></td><td>Variable number of inputs for interpolated values such as {{value}} inside the schema definition of the node.</td><td>(empty string)</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_o9Hs" hidden=""><h2 class="anchor anchorWithStickyNavbar_FGaV" id="outputs">Outputs<a href="#outputs" class="hash-link" aria-label="Direct link to Outputs" title="Direct link to Outputs">​</a></h2><table><thead><tr><th>Title</th><th>Data Type</th><th>Description</th><th>Notes</th></tr></thead><tbody><tr><td>Function</td><td><code>gpt-function</code></td><td>The function that was defined. This output can be connected to the &quot;Function&quot; port of a <a href="/docs/node-reference/chat">Chat Node</a>.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_o9Hs" hidden=""><h2 class="anchor anchorWithStickyNavbar_FGaV" id="editor-settings">Editor Settings<a href="#editor-settings" class="hash-link" aria-label="Direct link to Editor Settings" title="Direct link to Editor Settings">​</a></h2><table><thead><tr><th>Setting</th><th>Description</th><th>Default Value</th><th>Use Input Toggle</th><th>Input Data Type</th></tr></thead><tbody><tr><td>Name</td><td>The name of the function. This is the name that GPT will use to call the function in its responses.</td><td><code>newFunction</code></td><td>Yes</td><td><code>string</code></td></tr><tr><td>Description</td><td>A description of the function. This is used for documentation purposes and does not affect the function&#x27;s behavior.</td><td>(empty)</td><td>Yes</td><td><code>string</code></td></tr><tr><td>Schema</td><td>The JSON Schema that defines the function&#x27;s parameters.</td><td>(empty)</td><td>Yes</td><td><code>object</code></td></tr></tbody></table></div></div></div><h2 class="anchor anchorWithStickyNavbar_FGaV" id="example-1-define-a-function-that-takes-a-single-string-parameter">Example 1: Define a function that takes a single string parameter<a href="#example-1-define-a-function-that-takes-a-single-string-parameter" class="hash-link" aria-label="Direct link to Example 1: Define a function that takes a single string parameter" title="Direct link to Example 1: Define a function that takes a single string parameter">​</a></h2><ol><li><p>Create a GPT Function Node.</p></li><li><p>Set the <code>Name</code> to <code>greet</code>.</p></li><li><p>Set the <code>Description</code> to <code>A function that greets a user</code>.</p></li><li><p>Set the <code>Schema</code> to the following:</p><div class="language-json codeBlockContainer_jwtv theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_EShF"><pre tabindex="0" class="prism-code language-json codeBlock_TcJx thin-scrollbar"><code class="codeBlockLines_rbou"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;object&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;properties&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;The name of the user&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;required&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_aovs"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Lp4O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__Cya"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GdwW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Create a <a href="/docs/node-reference/chat">Chat Node</a> and enable the &quot;Function&quot; input port by checking the &quot;Enable Function Calling&quot; setting.</p></li><li><p>Connect the <code>Function</code> output of the GPT Function Node to the <code>Function</code> input of the Chat Node.</p></li><li><p>Set the <code>Prompt</code> of the Chat Node to the following, using a <a href="/docs/node-reference/text">Text Node</a> or <a href="/docs/node-reference/prompt">Prompt Node</a>:</p><div class="codeBlockContainer_jwtv theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_EShF"><pre tabindex="0" class="prism-code language-text codeBlock_TcJx thin-scrollbar"><code class="codeBlockLines_rbou"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Please call the `greet` function with the name &quot;John Doe&quot;.</span><br></span></code></pre><div class="buttonGroup_aovs"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Lp4O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__Cya"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GdwW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Run the graph. The Chat Node should output a call to the <code>greet</code> function with the parameter <code>name</code> set to <code>&quot;John Doe&quot;</code>.</p></li></ol><p><img loading="lazy" alt="GPT Function Node Example 1" src="/assets/images/gpt-function-node-example-01-68ae1b73a2b150e64432573a88d386cc.png" width="836" height="405" class="img_M8z1"></p><h2 class="anchor anchorWithStickyNavbar_FGaV" id="error-handling">Error Handling<a href="#error-handling" class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling">​</a></h2><p>The GPT Function Node will error if the <code>Schema</code> is not a valid JSON string or if it does not represent a valid JSON Schema.</p><h2 class="anchor anchorWithStickyNavbar_FGaV" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2><p><strong>Q: Can I define a function that takes multiple parameters?</strong></p><p>A: Yes, you can define a function that takes multiple parameters by adding more properties to the <code>Schema</code>. Each property represents a parameter of the function.</p><p><strong>Q: Can I define a function that takes an array or an object as a parameter?</strong></p><p>A: Yes, you can define a function that takes an array or an object as a parameter by setting the <code>type</code> of the property in the <code>Schema</code> to <code>array</code> or <code>object</code>.</p><p><strong>Q: Can I define a function that does not take any parameters?</strong></p><p>A: Yes, you can define a function that does not take any parameters by setting the <code>Schema</code> to an empty object (<code>{}</code>).</p><p><strong>Q: Can I use the GPT Function Node to define a function that returns a value?</strong></p><p>A: No, the GPT Function Node only defines the function&#x27;s name and parameters. The function&#x27;s behavior is determined by the rest of the graph.</p><p><strong>Q: How can I connect multiple functions to a Chat Node?</strong></p><p>A: You can connect multiple functions to a Chat Node by passing all of the functions into an <a href="/docs/node-reference/array">Array Node</a>, and then connecting the Array Node to the Chat Node.</p><h2 class="anchor anchorWithStickyNavbar_FGaV" id="see-also">See Also<a href="#see-also" class="hash-link" aria-label="Direct link to See Also" title="Direct link to See Also">​</a></h2><ul><li><a href="/docs/node-reference/chat">Chat Node</a></li><li><a href="/docs/node-reference/array">Array Node</a></li><li><a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">JSON Schema</a></li><li><a href="https://platform.openai.com/docs/guides/gpt/function-calling" target="_blank" rel="noopener noreferrer">Function Calling Documentation</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ironclad/rivet/tree/main/packages/docs/docs/node-reference/gpt-function.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_M6J_" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Zrhk"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/node-reference/chat"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chat</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/node-reference/get-embedding"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Get Embedding</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_vSir thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#outputs" class="table-of-contents__link toc-highlight">Outputs</a></li><li><a href="#editor-settings" class="table-of-contents__link toc-highlight">Editor Settings</a></li><li><a href="#example-1-define-a-function-that-takes-a-single-string-parameter" class="table-of-contents__link toc-highlight">Example 1: Define a function that takes a single string parameter</a></li><li><a href="#error-handling" class="table-of-contents__link toc-highlight">Error Handling</a></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a></li><li><a href="#see-also" class="table-of-contents__link toc-highlight">See Also</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/installation">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api-reference">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/qT8B2gv9Mg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_YGOo"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ironclad/rivet" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_YGOo"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@rivet_ts" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_YGOo"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Ironclad. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e6606ab6.js"></script>
<script src="/assets/js/main.2c0dd3bf.js"></script>
</body>
</html>