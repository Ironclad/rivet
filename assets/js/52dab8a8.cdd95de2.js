"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8896],{1042:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(3249);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(a),h=r,m=d["".concat(s,".").concat(h)]||d[h]||c[h]||l;return a?n.createElement(m,i(i({ref:t},p),{},{components:a})):n.createElement(m,i({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var u=2;u<l;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},5089:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(3249),r=a(2689);const l={tabItem:"tabItem_o9Hs"};function i(e){let{children:t,hidden:a,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l.tabItem,i),hidden:a},t)}},2327:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(7396),r=a(3249),l=a(2689),i=a(5986),o=a(6659),s=a(4532),u=a(5821),p=a(3312);function d(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function c(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??d(a);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function h(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:a}=e;const n=(0,o.k6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,s._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,l=c(e),[i,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!h({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[s,u]=m({queryString:a,groupId:n}),[d,f]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,l]=(0,p.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:n}),v=(()=>{const e=s??d;return h({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{v&&o(v)}),[v]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),f(e)}),[u,f,l]),tabValues:l}}var v=a(3072);const k={tabList:"tabList_Dwv5",tabItem:"tabItem_KiUr"};function g(e){let{className:t,block:a,selectedValue:o,selectValue:s,tabValues:u}=e;const p=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),c=e=>{const t=e.currentTarget,a=p.indexOf(t),n=u[a].value;n!==o&&(d(t),s(n))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=p.indexOf(e.currentTarget)+1;t=p[a]??p[0];break}case"ArrowLeft":{const a=p.indexOf(e.currentTarget)-1;t=p[a]??p[p.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>p.push(e),onKeyDown:h,onClick:c},i,{className:(0,l.Z)("tabs__item",k.tabItem,i?.className,{"tabs__item--active":o===t})}),a??t)})))}function N(e){let{lazy:t,children:a,selectedValue:n}=e;const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function b(e){const t=f(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",k.tabList)},r.createElement(g,(0,n.Z)({},e,t)),r.createElement(N,(0,n.Z)({},e,t)))}function y(e){const t=(0,v.Z)();return r.createElement(b,(0,n.Z)({key:String(t)},e))}},8885:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>u,toc:()=>d});var n=a(7396),r=(a(3249),a(1042)),l=a(2327),i=a(5089);const o={id:"raise-event",title:"Raise Event Node",sidebar_label:"Raise Event"},s=void 0,u={unversionedId:"node-reference/raise-event",id:"node-reference/raise-event",title:"Raise Event Node",description:"Raise Event Node Screenshot",source:"@site/docs/node-reference/raise-event.mdx",sourceDirName:"node-reference",slug:"/node-reference/raise-event",permalink:"/docs/node-reference/raise-event",draft:!1,editUrl:"https://github.com/ironclad/rivet/tree/main/packages/docs/docs/node-reference/raise-event.mdx",tags:[],version:"current",frontMatter:{id:"raise-event",title:"Raise Event Node",sidebar_label:"Raise Event"},sidebar:"nodeReference",previous:{title:"HTTP Call",permalink:"/docs/node-reference/http-call"},next:{title:"Set Global",permalink:"/docs/node-reference/set-global"}},p={},d=[{value:"Overview",id:"overview",level:2},{value:"Toast",id:"toast",level:3},{value:"Inputs",id:"inputs",level:2},{value:"Outputs",id:"outputs",level:2},{value:"Editor Settings",id:"editor-settings",level:2},{value:"Example 1: Raise an event with data",id:"example-1-raise-an-event-with-data",level:2},{value:"Example 2: Wait for an Chat call to finish before continuing another part of a graph",id:"example-2-wait-for-an-chat-call-to-finish-before-continuing-another-part-of-a-graph",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"FAQ",id:"faq",level:2},{value:"See Also",id:"see-also",level:2}],c={toc:d},h="wrapper";function m(e){let{components:t,...o}=e;return(0,r.kt)(h,(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Raise Event Node Screenshot",src:a(7157).Z,width:"241",height:"178"})),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"The Raise Event Node allows you to trigger an event from within your graph. This event can be listened for by the host project or by a ",(0,r.kt)("a",{parentName:"p",href:"/docs/node-reference/wait-for-event"},"Wait For Event Node")," within the same graph. This can be useful for triggering actions in your host application based on the state of your graph, or for synchronizing different parts of your graph."),(0,r.kt)("p",null,"The node requires an event name and optionally an event data. The event name is used to identify the event when it is raised, and the event data is any additional information that you want to associate with the event."),(0,r.kt)("h3",{id:"toast"},"Toast"),(0,r.kt)("p",null,"In the Rivet application, there is a special event named ",(0,r.kt)("inlineCode",{parentName:"p"},"toast")," which can show a toast message. The ",(0,r.kt)("inlineCode",{parentName:"p"},"toast")," event accepts a string as its data, which is used as the message of the toast."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Raise Event Node Toast Example",src:a(294).Z,width:"808",height:"400"})),(0,r.kt)(l.Z,{defaultValue:"inputs",values:[{label:"Inputs",value:"inputs"},{label:"Outputs",value:"outputs"},{label:"Editor Settings",value:"settings"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"inputs",mdxType:"TabItem"},(0,r.kt)("h2",{id:"inputs"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Title"),(0,r.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Event Name"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the event to raise. This input is only available if ",(0,r.kt)("inlineCode",{parentName:"td"},"Use Event Name Input")," is enabled."),(0,r.kt)("td",{parentName:"tr",align:null},"(required)"),(0,r.kt)("td",{parentName:"tr",align:null},"The input will be coerced into a string if it is not a string.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Data"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"any")),(0,r.kt)("td",{parentName:"tr",align:null},"The data to associate with the event."),(0,r.kt)("td",{parentName:"tr",align:null},"(empty)"),(0,r.kt)("td",{parentName:"tr",align:null},"The input will be coerced into the appropriate data type based on the value of the ",(0,r.kt)("inlineCode",{parentName:"td"},"Data"),"."))))),(0,r.kt)(i.Z,{value:"outputs",mdxType:"TabItem"},(0,r.kt)("h2",{id:"outputs"},"Outputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Title"),(0,r.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Result"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"any")),(0,r.kt)("td",{parentName:"tr",align:null},"The data that was associated with the event."),(0,r.kt)("td",{parentName:"tr",align:null},"If the ",(0,r.kt)("inlineCode",{parentName:"td"},"Data")," input is not provided, the ",(0,r.kt)("inlineCode",{parentName:"td"},"Result")," output will be an empty string (",(0,r.kt)("inlineCode",{parentName:"td"},'""'),")."))))),(0,r.kt)(i.Z,{value:"settings",mdxType:"TabItem"},(0,r.kt)("h2",{id:"editor-settings"},"Editor Settings"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Setting"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Use Input Toggle"),(0,r.kt)("th",{parentName:"tr",align:null},"Input Data Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Event Name"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the event to raise."),(0,r.kt)("td",{parentName:"tr",align:null},"(required)"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Use Event Name Input"),(0,r.kt)("td",{parentName:"tr",align:null},"If enabled, the Event Name can be provided via the Event Name input port."),(0,r.kt)("td",{parentName:"tr",align:null},"False"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"N/A")))))),(0,r.kt)("h2",{id:"example-1-raise-an-event-with-data"},"Example 1: Raise an event with data"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a Text Node and set the text to ",(0,r.kt)("inlineCode",{parentName:"li"},"Hello, world!"),"."),(0,r.kt)("li",{parentName:"ol"},"Create a Raise Event Node and leave the Event Name as ",(0,r.kt)("inlineCode",{parentName:"li"},"toast"),"."),(0,r.kt)("li",{parentName:"ol"},"Connect the Text Node to the ",(0,r.kt)("inlineCode",{parentName:"li"},"Data")," input of the Raise Event Node."),(0,r.kt)("li",{parentName:"ol"},"Run the graph. The ",(0,r.kt)("inlineCode",{parentName:"li"},"Result")," output of the Raise Event Node should be ",(0,r.kt)("inlineCode",{parentName:"li"},"Hello, world!"),", and a toast message should appear in the Rivet application.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Raise Event Node Example 1",src:a(294).Z,width:"808",height:"400"})),(0,r.kt)("h2",{id:"example-2-wait-for-an-chat-call-to-finish-before-continuing-another-part-of-a-graph"},"Example 2: Wait for an Chat call to finish before continuing another part of a graph"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a ",(0,r.kt)("a",{parentName:"li",href:"/docs/node-reference/chat"},"Chat Node")," and give it a prompt using a ",(0,r.kt)("a",{parentName:"li",href:"/docs/node-reference/text"},"Text Node"),' such as "What is your name?".'),(0,r.kt)("li",{parentName:"ol"},"Create a Raise Event Node, set the Event Name to ",(0,r.kt)("inlineCode",{parentName:"li"},"chat"),", and connect the ",(0,r.kt)("inlineCode",{parentName:"li"},"Response")," output of the Chat Node to the ",(0,r.kt)("inlineCode",{parentName:"li"},"Data")," input of the Raise Event Node."),(0,r.kt)("li",{parentName:"ol"},"In a separate part of the graph, add a ",(0,r.kt)("a",{parentName:"li",href:"/docs/node-reference/wait-for-event"},"Wait For Event Node")," and set the Event Name to ",(0,r.kt)("inlineCode",{parentName:"li"},"chat"),"."),(0,r.kt)("li",{parentName:"ol"},"Run the graph. Notice that the Wait For Event Node will not continue until the Chat Node has finished.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Raise Event Node Example 2",src:a(5573).Z,width:"1238",height:"507"})),(0,r.kt)("h2",{id:"error-handling"},"Error Handling"),(0,r.kt)("p",null,"The Raise Event Node will error if the ",(0,r.kt)("inlineCode",{parentName:"p"},"Event Name")," is not provided."),(0,r.kt)("h2",{id:"faq"},"FAQ"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Q: How can I listen for the event that was raised?")),(0,r.kt)("p",null,"A: You can listen for the event in your host application by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"onUserEvent")," property of ",(0,r.kt)("a",{parentName:"p",href:"../api-reference/node/RunGraphOptions"},"RunGraphOptions"),". You can also listen for the event within the same graph by using a ",(0,r.kt)("a",{parentName:"p",href:"/docs/node-reference/wait-for-event"},"Wait For Event Node"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Q: Can I pass data with the event?")),(0,r.kt)("p",null,"A: Yes, you can pass data with the event by providing a value to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Data")," input. The data can be of any data type."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Q: What happens if I raise an event that no one is listening for?")),(0,r.kt)("p",null,"A: If you raise an event that no one is listening for, nothing will happen. The event will be raised and then immediately discarded."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Q: How is raising event different from an ",(0,r.kt)("a",{parentName:"strong",href:"/docs/node-reference/external-call"},"External Call Node"),"?")),(0,r.kt)("p",null,"A: The External Call Node will wait for the external call to complete before continuing, whereas the Raise Event Node will continue immediately after raising the event."),(0,r.kt)("h2",{id:"see-also"},"See Also"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/node-reference/wait-for-event"},"Wait For Event Node")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/node-reference/external-call"},"External Call Node")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../api-reference/node/RunGraphOptions"},"RunGraphOptions"))))}m.isMDXComponent=!0},5573:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/raise-event-node-example-02-8d2edeeab03a2127f7fd4e5224e9c008.png"},294:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/raise-event-node-toast-c4a29db0ed3a2d9c3539a3b41d4a5b19.png"},7157:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/raise-event-node-e2b974e5750916f9c5e23cc151599a39.png"}}]);