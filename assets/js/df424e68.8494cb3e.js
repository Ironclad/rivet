"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3771],{1042:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>h});var l=a(3249);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=l.createContext({}),d=function(e){var t=l.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=d(e.components);return l.createElement(u.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},b=l.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,u=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=d(a),b=n,h=p["".concat(u,".").concat(b)]||p[b]||c[b]||r;return a?l.createElement(h,o(o({ref:t},s),{},{components:a})):l.createElement(h,o({ref:t},s))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=b;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i[p]="string"==typeof e?e:n,o[1]=i;for(var d=2;d<r;d++)o[d]=a[d];return l.createElement.apply(null,o)}return l.createElement.apply(null,a)}b.displayName="MDXCreateElement"},5089:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(3249),n=a(2689);const r={tabItem:"tabItem_o9Hs"};function o(e){let{children:t,hidden:a,className:o}=e;return l.createElement("div",{role:"tabpanel",className:(0,n.Z)(r.tabItem,o),hidden:a},t)}},2327:(e,t,a)=>{a.d(t,{Z:()=>y});var l=a(7396),n=a(3249),r=a(2689),o=a(5986),i=a(6659),u=a(4532),d=a(5821),s=a(3312);function p(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:l,default:n}}=e;return{value:t,label:a,attributes:l,default:n}}))}function c(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??p(a);return function(e){const t=(0,d.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function b(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const l=(0,i.k6)(),r=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,u._X)(r),(0,n.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(l.location.search);t.set(r,e),l.replace({...l.location,search:t.toString()})}),[r,l])]}function m(e){const{defaultValue:t,queryString:a=!1,groupId:l}=e,r=c(e),[o,i]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!b({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const l=a.find((e=>e.default))??a[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:t,tabValues:r}))),[u,d]=h({queryString:a,groupId:l}),[p,m]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[l,r]=(0,s.Nk)(a);return[l,(0,n.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:l}),g=(()=>{const e=u??p;return b({value:e,tabValues:r})?e:null})();(0,n.useLayoutEffect)((()=>{g&&i(g)}),[g]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!b({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);i(e),d(e),m(e)}),[d,m,r]),tabValues:r}}var g=a(3072);const f={tabList:"tabList_Dwv5",tabItem:"tabItem_KiUr"};function k(e){let{className:t,block:a,selectedValue:i,selectValue:u,tabValues:d}=e;const s=[],{blockElementScrollPositionUntilNextRender:p}=(0,o.o5)(),c=e=>{const t=e.currentTarget,a=s.indexOf(t),l=d[a].value;l!==i&&(p(t),u(l))},b=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=s.indexOf(e.currentTarget)+1;t=s[a]??s[0];break}case"ArrowLeft":{const a=s.indexOf(e.currentTarget)-1;t=s[a]??s[s.length-1];break}}t?.focus()};return n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},t)},d.map((e=>{let{value:t,label:a,attributes:o}=e;return n.createElement("li",(0,l.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>s.push(e),onKeyDown:b,onClick:c},o,{className:(0,r.Z)("tabs__item",f.tabItem,o?.className,{"tabs__item--active":i===t})}),a??t)})))}function v(e){let{lazy:t,children:a,selectedValue:l}=e;const r=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===l));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return n.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==l}))))}function N(e){const t=m(e);return n.createElement("div",{className:(0,r.Z)("tabs-container",f.tabList)},n.createElement(k,(0,l.Z)({},e,t)),n.createElement(v,(0,l.Z)({},e,t)))}function y(e){const t=(0,g.Z)();return n.createElement(N,(0,l.Z)({key:String(t)},e))}},8305:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>u,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>p});var l=a(7396),n=(a(3249),a(1042)),r=a(2327),o=a(5089);const i={id:"get-global",title:"Get Global Node",sidebar_label:"Get Global"},u=void 0,d={unversionedId:"node-reference/get-global",id:"node-reference/get-global",title:"Get Global Node",description:"Get Global Node Screenshot",source:"@site/docs/node-reference/get-global.mdx",sourceDirName:"node-reference",slug:"/node-reference/get-global",permalink:"/docs/node-reference/get-global",draft:!1,editUrl:"https://github.com/ironclad/rivet/tree/main/packages/docs/docs/node-reference/get-global.mdx",tags:[],version:"current",frontMatter:{id:"get-global",title:"Get Global Node",sidebar_label:"Get Global"},sidebar:"nodeReference",previous:{title:"External Call",permalink:"/docs/node-reference/external-call"},next:{title:"HTTP Call",permalink:"/docs/node-reference/http-call"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Inputs",id:"inputs",level:2},{value:"Outputs",id:"outputs",level:2},{value:"Editor Settings",id:"editor-settings",level:2},{value:"Example 1: Retrieve a global variable",id:"example-1-retrieve-a-global-variable",level:2},{value:"Example 2: Retrieve a global variable on-demand",id:"example-2-retrieve-a-global-variable-on-demand",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"FAQ",id:"faq",level:2},{value:"See Also",id:"see-also",level:2}],c={toc:p},b="wrapper";function h(e){let{components:t,...i}=e;return(0,n.kt)(b,(0,l.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Get Global Node Screenshot",src:a(7323).Z,width:"286",height:"169"})),(0,n.kt)("h2",{id:"overview"},"Overview"),(0,n.kt)("p",null,"The Get Global Node is used to retrieve a global value that is shared across all graphs and subgraphs. The ID of the global value is configured in this node."),(0,n.kt)("p",null,"The node can be configured to retrieve the value on demand, which means it will be read when nodes need it, rather than when this node executes. This is useful when the global value might change during the execution of the graph."),(0,n.kt)("p",null,"The node can also be configured to wait until the variable is available. This is useful when the global value is set by another node that might not have completed its execution when this node runs."),(0,n.kt)(r.Z,{defaultValue:"inputs",values:[{label:"Inputs",value:"inputs"},{label:"Outputs",value:"outputs"},{label:"Editor Settings",value:"settings"}],mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"inputs",mdxType:"TabItem"},(0,n.kt)("h2",{id:"inputs"},"Inputs"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Title"),(0,n.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,n.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Variable ID"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},'The ID of the global variable to retrieve. This input is only available if the "Use Input" toggle is checked.'),(0,n.kt)("td",{parentName:"tr",align:null},"N/A"),(0,n.kt)("td",{parentName:"tr",align:null},"The input will be coerced into a string if it is not a string."))))),(0,n.kt)(o.Z,{value:"outputs",mdxType:"TabItem"},(0,n.kt)("h2",{id:"outputs"},"Outputs"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Title"),(0,n.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Value"),(0,n.kt)("td",{parentName:"tr",align:null},"(any)"),(0,n.kt)("td",{parentName:"tr",align:null},"The value of the global variable."),(0,n.kt)("td",{parentName:"tr",align:null},"The data type of the output will be the same as the data type of the global variable."))))),(0,n.kt)(o.Z,{value:"settings",mdxType:"TabItem"},(0,n.kt)("h2",{id:"editor-settings"},"Editor Settings"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Setting"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,n.kt)("th",{parentName:"tr",align:null},"Use Input Toggle"),(0,n.kt)("th",{parentName:"tr",align:null},"Input Data Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Variable ID"),(0,n.kt)("td",{parentName:"tr",align:null},"The ID of the global variable to retrieve."),(0,n.kt)("td",{parentName:"tr",align:null},"(required)"),(0,n.kt)("td",{parentName:"tr",align:null},"Yes"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Data Type"),(0,n.kt)("td",{parentName:"tr",align:null},"The data type of the global variable."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"No"),(0,n.kt)("td",{parentName:"tr",align:null},"N/A")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"On Demand"),(0,n.kt)("td",{parentName:"tr",align:null},'If enabled, the global variable will be read when nodes need it, rather than when this node executes. Cannot be used with "Wait".'),(0,n.kt)("td",{parentName:"tr",align:null},"True"),(0,n.kt)("td",{parentName:"tr",align:null},"No"),(0,n.kt)("td",{parentName:"tr",align:null},"N/A")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Wait"),(0,n.kt)("td",{parentName:"tr",align:null},'If enabled, the node will wait until the variable is available. Cannot be used with "On Demand".'),(0,n.kt)("td",{parentName:"tr",align:null},"False"),(0,n.kt)("td",{parentName:"tr",align:null},"No"),(0,n.kt)("td",{parentName:"tr",align:null},"N/A")))))),(0,n.kt)("h2",{id:"example-1-retrieve-a-global-variable"},"Example 1: Retrieve a global variable"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Add a ",(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/set-global"},"Set Global Node")," to the graph. Set the variable name to ",(0,n.kt)("inlineCode",{parentName:"li"},"myGlobalVariable")," and the value to ",(0,n.kt)("inlineCode",{parentName:"li"},"Hello World")," using a ",(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/text"},"Text Node"),"."),(0,n.kt)("li",{parentName:"ol"},"In a separate part of the graph, add a ",(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/delay"},"Delay Node")," and set the delay to ",(0,n.kt)("inlineCode",{parentName:"li"},"1000")," (1 second)."),(0,n.kt)("li",{parentName:"ol"},"Create a ",(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/text"},"Text Node")," and set the text to ",(0,n.kt)("inlineCode",{parentName:"li"},"myGlobalVariable"),". Pass the text into the Delay Node."),(0,n.kt)("li",{parentName:"ol"},'Create a Get Global Node, enable the input for "Variable Name", and pass the output of the Delay Node into the input. Disable the "On Demand" setting.')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Get Global Node Example 1",src:a(9481).Z,width:"1005",height:"525"})),(0,n.kt)("h2",{id:"example-2-retrieve-a-global-variable-on-demand"},"Example 2: Retrieve a global variable on-demand"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Add a ",(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/set-global"},"Set Global Node")," to the graph. Set the variable name to ",(0,n.kt)("inlineCode",{parentName:"li"},"myGlobalVariable")," and the value to ",(0,n.kt)("inlineCode",{parentName:"li"},"Hello World")," using a ",(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/text"},"Text Node"),"."),(0,n.kt)("li",{parentName:"ol"},"Add a Get Global Node and set the variable name to ",(0,n.kt)("inlineCode",{parentName:"li"},"myGlobalVariable"),'. Enable the "On Demand" setting.'),(0,n.kt)("li",{parentName:"ol"},"Add an ",(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/if"},"If Node"),". Set the ",(0,n.kt)("inlineCode",{parentName:"li"},"If")," input to the Set Global Node, and set the ",(0,n.kt)("inlineCode",{parentName:"li"},"Value")," input to the Get Global Node. This will wait for both nodes to complete before running, and will pass the Get Global Node's value through to the next node."),(0,n.kt)("li",{parentName:"ol"},"Add a Text Node and connect the If Node to the Text Node."),(0,n.kt)("li",{parentName:"ol"},"Run the graph. Notice that the value of the If node is ",(0,n.kt)("inlineCode",{parentName:"li"},"Function<string>"),' because the "On-Demand" setting has been enabled, causing the value to not have resolved yet. The value is resolved in the Text Node, and "Hello World" is displayed.')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Get Global Node Example 2",src:a(9242).Z,width:"1233",height:"521"})),(0,n.kt)("h2",{id:"error-handling"},"Error Handling"),(0,n.kt)("p",null,"The Get Global Node will error if the global variable is not found and the ",(0,n.kt)("inlineCode",{parentName:"p"},"Wait")," setting is disabled. If the ",(0,n.kt)("inlineCode",{parentName:"p"},"Wait")," setting is enabled, the node will wait until the variable is available."),(0,n.kt)("h2",{id:"faq"},"FAQ"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: What is a global variable?")),(0,n.kt)("p",null,"A: A global variable is a value that is shared across all graphs and subgraphs. It is set using a ",(0,n.kt)("a",{parentName:"p",href:"/docs/node-reference/set-global"},"Set Global Node")," and retrieved using a Get Global Node."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: Can I set a global variable from a parent application?")),(0,n.kt)("p",null,"A: No, global variables can only be set from within the graph. Use a ",(0,n.kt)("a",{parentName:"p",href:"/docs/node-reference/context"},"Context Node")," instead to access global variables set by the parent application."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: What happens if the global variable is not found?")),(0,n.kt)("p",null,"A: If the global variable is not found and the ",(0,n.kt)("inlineCode",{parentName:"p"},"Wait")," setting is disabled, the Get Global Node will return the default value for the data type selected. For example, if the data type is set to ",(0,n.kt)("inlineCode",{parentName:"p"},"string"),", the default value will be an empty string. If the ",(0,n.kt)("inlineCode",{parentName:"p"},"Wait")," setting is enabled, the node will wait until the variable is available before returning the value."),(0,n.kt)("h2",{id:"see-also"},"See Also"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/set-global"},"Set Global Node")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/context"},"Context Node")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/external-call"},"External Call Node")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/node-reference/raise-event"},"Raise Event Node"))))}h.isMDXComponent=!0},9481:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/get-global-node-example-01-b26a94e49bd17abd4eef014382d9c3dd.png"},9242:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/get-global-node-example-02-dbc0ebb37ecdced0c849678bcf8a2df5.png"},7323:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/get-global-node-d558140300f405ca0c61d79ab40939ff.png"}}]);